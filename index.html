<!DOCTYPE html>
<html>
    <head>
        <title>Chatapp</title>
        <link rel="stylesheet" href="style.css">
    </head>

    <body>
      <div id="wrapper">
        <div id="menu"></div>
        <p class="welcome">Welcome, <b id="user"></b></p>
        <p class="logout"><a id="exit" href="#">Exit Chat</a></p>
      

        <!-- This is the message area, can be referenced using ajax-->
        <div id="chatbox"></div>


        <form name="message" action="">
            <input name="usermsg" type="text" id="usermsg"/>
            <input name="submitmsg" type="submit" id="submitmsg" value="Send" />
        </form>
      </div>
      <script src="/socket.io/socket.io.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
      
    <script>
        var socket = io();
  
        var messages = document.getElementById('messages');
        var form = document.getElementById('form');
        var input = document.getElementById('input');
  
        form.addEventListener('submit', function(e) {
          e.preventDefault();
          if (input.value) {
            socket.emit('chat message', input.value);
            input.value = '';
          }
        });
  
        socket.on('chat message', function(msg) {
          var item = document.createElement('li');
          item.textContent = msg;
          messages.appendChild(item);
          window.scrollTo(0, document.body.scrollHeight);
        });
    
    </script>
    </body>

</html>